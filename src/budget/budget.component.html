<div class="min-h-screen bg-[#e0ddcb] text-black">
  <header class="bg-black text-white fixed top-0 inset-x-0" style="z-index: 60">
    <div class="h-20 relative">
      <div
        class="absolute left-4 sm:left-6 lg:left-8 top-1/2 -translate-y-1/2 flex items-center"
      >
        <div class="flex items-center gap-3">
          <img src="assets/svgs/SPGA.svg" alt="SPGA" class="h-10 w-auto" />
          <span class="text-sm md:text-xl font-light font-canela-deck">
            Arquitectura
            <span style="font-style: italic; font-weight: 100">&amp;</span>
            Interiorismo
          </span>
        </div>
      </div>

      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-center"
      >
        <nav class="hidden md:flex space-x-20 mt-2">
          <a
            href="/"
            (click)="handleNav(null, $event)"
            class="text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Inicio</a
          >
          <a
            href="/servicios"
            (click)="handleNav('servicios', $event)"
            class="text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Servicios</a
          >
          <a
            href="/proyectos"
            (click)="handleNav('proyectos', $event)"
            class="text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Proyectos</a
          >
          <a
            href="/sobre-nosotros"
            (click)="handleNav('sobre-nosotros', $event)"
            class="text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Sobre Nosotros</a
          >
        </nav>
      </div>

      <div
        class="absolute right-4 sm:right-6 lg:right-8 top-1/2 -translate-y-1/2 flex items-center"
      >
        <div class="flex items-center gap-4">
          <button
            type="button"
            (click)="scrollToContact()"
            class="hidden sm:inline-flex items-center px-4 py-2 border border-white text-white rounded hover:border-transparent transition text-sm md:text-base"
          >
            Contáctanos
            <img
              src="assets/svgs/whatsapp.svg"
              alt="WhatsApp"
              class="h-5 w-5 ml-3"
            />
          </button>
          <span
            class="inline-flex items-center px-4 py-2 bg-white text-black rounded text-sm md:text-base"
          >
            Presupuesta
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 ml-3"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 12h14M12 5l7 7-7 7"
              />
            </svg>
          </span>
        </div>
      </div>
    </div>
  </header>

  <main class="pt-28 pb-16 px-4 sm:px-6 lg:px-8">
    <section class="max-w-2xl mx-auto">
      <h1
        class="text-5xl sm:text-6xl font-canela-deck font-light mb-16 text-center"
      >
        Presupuesta tu proyecto
      </h1>

      <form class="space-y-10" (submit)="handleSubmit($event)">
        <!-- Question 1: Project Type -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Qué deseas diseñar o construir?*
          </h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[0].options"
              (click)="handleOption(questions[0], option)"
              [ngClass]="
                optionIsSelected(questions[0], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm">Otro:</span>
            <input
              type="text"
              class="flex-1 border-b border-black bg-transparent py-1 text-sm focus:outline-none"
              placeholder=""
              (input)="onInputChange('additionalInfo', 'projectTypeOther', $event); clearSelection('projectType')"
            />
          </div>
        </div>

        <!-- Question 2: Services -->
        <div class="space-y-4">
          <h3 class="text-base font-light">¿Qué servicios necesitas?*</h3>
          <div class="grid grid-cols-2 gap-3">
            <button
              type="button"
              *ngFor="let option of questions[1].options"
              (click)="handleOption(questions[1], option)"
              [ngClass]="
                optionIsSelected(questions[1], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-4 py-2.5 border border-black rounded text-sm transition text-left"
            >
              {{ option.label }}
            </button>
          </div>
          <p class="text-xs text-red-600">*Selecciona al menos 1 servicio</p>
        </div>

        <!-- Question 3: Surface Area -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Cuál es el área aproximada del proyecto?*
          </h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[2].options"
              (click)="handleOption(questions[2], option)"
              [ngClass]="
                optionIsSelected(questions[2], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Question 4: Budget -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Tienes un presupuesto estimado?*
          </h3>
          <div class="space-y-2">
            <p class="text-sm">Si, monto aproximado (bs.)</p>
            <input
              type="text"
              class="w-full max-w-xs border-b border-black bg-transparent py-1 text-sm focus:outline-none"
              placeholder=""
              (input)="onInputChange('additionalInfo', 'budget', $event)"
            />
          </div>
          <div class="flex items-center gap-3">
            <button
              type="button"
              *ngFor="let option of questions[3].options"
              (click)="handleOption(questions[3], option)"
              [ngClass]="
                optionIsSelected(questions[3], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Question 5: Timeline -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Tienes una fecha límite o plazo ideal?*
          </h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[4].options"
              (click)="handleOption(questions[4], option)"
              [ngClass]="
                optionIsSelected(questions[4], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Question 6: Additional Comments -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            Cuéntanos brevemente tu idea o necesidad*
          </h3>
          <textarea
            class="w-full border-b border-black bg-transparent py-2 text-sm focus:outline-none resize-none"
            rows="1"
            placeholder=""
            (input)="onInputChange('additionalInfo', 'comments', $event)"
          ></textarea>
        </div>

        <!-- Contact Information -->
        <div class="space-y-6 pt-6">
          <h3 class="text-base font-light">Tus datos de contacto*</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm mb-1">Nombre completo</label>
              <input
                type="text"
                required
                class="w-full border-b border-black bg-transparent py-1 text-sm focus:outline-none"
                placeholder=""
                (input)="onInputChange('contactInfo', 'fullName', $event)"
              />
            </div>
            <div>
              <label class="block text-sm mb-1">Email</label>
              <input
                type="email"
                required
                class="w-full border-b border-black bg-transparent py-1 text-sm focus:outline-none"
                placeholder=""
                (input)="onInputChange('contactInfo', 'email', $event)"
              />
            </div>
            <div>
              <label class="block text-sm mb-1">Teléfono</label>
              <input
                type="tel"
                required
                class="w-full border-b border-black bg-transparent py-1 text-sm focus:outline-none"
                placeholder=""
                (input)="onInputChange('contactInfo', 'phone', $event)"
              />
            </div>
          </div>
        </div>

        <!-- Contact Preference -->
        <div class="space-y-4">
          <h3 class="text-base font-light">¿Cómo prefieres que te contactemos?*</h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[6].options"
              (click)="handleOption(questions[6], option)"
              [ngClass]="
                optionIsSelected(questions[6], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- How did you find us -->
        <div class="space-y-4">
          <h3 class="text-base font-light">¿Cómo nos conociste?*</h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[7].options"
              (click)="handleOption(questions[7], option)"
              [ngClass]="
                optionIsSelected(questions[7], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm">Otro:</span>
            <input
              type="text"
              class="flex-1 border-b border-black bg-transparent py-1 text-sm focus:outline-none"
              placeholder=""
              (input)="onInputChange('additionalInfo', 'discoveryOther', $event); clearSelection('discoveryMethod')"
            />
          </div>
        </div>

        <!-- Submit Button -->
        <div class="pt-8 flex justify-center">
          <button
            type="submit"
            class="px-16 py-4 bg-black text-white text-sm uppercase tracking-widest hover:opacity-90 transition"
          >
            Enviar solicitud de presupuesto
          </button>
        </div>
      </form>
    </section>
  </main>

  <section id="budget-contact" class="bg-black">
    <contactanos-section
      logoSrc="/assets/svgs/SPGA.svg"
      videoSrc="/assets/videos/Design your post.mp4"
      fallbackImageSrc="/assets/pictures/first-image.png"
      whatsappNumber="+58000-00000"
      email="spgagroup@gmail.com"
      designCredit="Maya Bottino"
      devCredit="Vicente Perez"
    ></contactanos-section>
  </section>
</div>
