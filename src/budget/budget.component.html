<div class="min-h-screen bg-[#e0ddcb] text-black">
  <header class="bg-black text-white fixed top-0 inset-x-0" style="z-index: 60">
    <div class="h-20 relative">
      <!-- Left: Logo -->
      <div
        class="absolute left-4 sm:left-6 lg:left-8 top-1/2 -translate-y-1/2 flex items-center"
      >
        <div class="flex items-center gap-3">
          <img src="assets/svgs/SPGA.svg" alt="SPGA" class="h-10 w-auto" />
          <span class="text-sm min-[900px]:text-base xl:text-xl font-light font-canela-deck">
            Arquitectura
            <span style="font-style: italic; font-weight: 100">&amp;</span>
            Interiorismo
          </span>
        </div>
      </div>

      <!-- Center: constrained nav, centered in page -->
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-center"
      >
        <nav class="hidden min-[900px]:flex min-[900px]:space-x-6 xl:space-x-20 mt-2">
          <a
            href="/"
            (click)="handleNav(null, $event)"
            class="min-[900px]:text-sm xl:text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Inicio</a
          >
          <a
            href="/servicios"
            (click)="handleNav('servicios', $event)"
            class="min-[900px]:text-sm xl:text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Servicios</a
          >
          <a
            href="/proyectos"
            (click)="handleNav('proyectos', $event)"
            class="min-[900px]:text-sm xl:text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Proyectos</a
          >
          <a
            href="/sobre-nosotros"
            (click)="handleNav('sobre-nosotros', $event)"
            class="min-[900px]:text-sm xl:text-lg text-white border-b-2 border-transparent pb-2 hover:border-white"
            >Sobre Nosotros</a
          >
        </nav>
      </div>

      <!-- Right: buttons flush to the viewport right -->
      <div
        class="absolute right-4 sm:right-6 lg:right-8 top-1/2 -translate-y-1/2 flex items-center"
      >
        <div class="flex items-center gap-4">
          <!-- Hamburger Button (Mobile) -->
          <button
            (click)="toggleMobileMenu()"
            class="min-[900px]:hidden bg-white text-black focus:outline-none w-8 h-8 rounded-full flex items-center justify-center mr-4"
            aria-label="Menu"
          >
          </button>

          <button
            type="button"
            (click)="scrollToContact()"
            class="hidden min-[900px]:inline-flex items-center min-[900px]:px-3 min-[900px]:py-1.5 xl:px-4 xl:py-2 border border-white text-white rounded hover:border-transparent transition min-[900px]:text-xs xl:text-base"
          >
            Contáctanos
            <img
              src="assets/svgs/whatsapp.svg"
              alt="WhatsApp"
              class="h-5 w-5 ml-3"
            />
          </button>
          <span
            class="hidden min-[900px]:inline-flex items-center min-[900px]:px-3 min-[900px]:py-1.5 xl:px-4 xl:py-2 bg-white text-black rounded min-[900px]:text-xs xl:text-base"
          >
            Presupuesta
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 ml-3"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 12h14M12 5l7 7-7 7"
              />
            </svg>
          </span>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Menu Overlay -->
  <div
    *ngIf="mobileMenuOpen()"
    class="fixed inset-0 z-[100] bg-[#0a0a0a] text-white flex flex-col"
  >
    <!-- Header -->
    <div class="h-20 px-4 flex items-center justify-between border-b border-white/20">
      <div class="flex items-center gap-3">
        <img src="assets/svgs/SPGA.svg" alt="SPGA" class="h-8 w-auto" />
        <span class="text-sm font-light font-canela-deck">
          Arquitectura
          <span style="font-style: italic; font-weight: 100">&amp;</span>
          Interiorismo
        </span>
      </div>
      <button (click)="toggleMobileMenu()" class="p-2 flex items-center justify-center">
        <!-- Diamond close icon -->
        <div class="w-6 h-6 bg-white transform rotate-45"></div>
      </button>
    </div>

    <!-- Menu Items -->
    <div class="flex-1 flex flex-col justify-end">
      <a
        href="/"
        (click)="toggleMobileMenu(); handleNav(null, $event)"
        class="w-full h-24 flex items-center justify-center px-8 text-xl font-light border-t border-white/20 hover:bg-white/5 transition"
      >
        Inicio
      </a>
      <a
        href="/servicios"
        (click)="toggleMobileMenu(); handleNav('servicios', $event)"
        class="w-full h-24 flex items-center justify-center px-8 text-xl font-light border-t border-white/20 hover:bg-white/5 transition"
      >
        Servicios
      </a>
      <a
        href="/proyectos"
        (click)="toggleMobileMenu(); handleNav('proyectos', $event)"
        class="w-full h-24 flex items-center justify-center px-8 text-xl font-light border-t border-white/20 hover:bg-white/5 transition"
      >
        Proyectos
      </a>
      <a
        href="/sobre-nosotros"
        (click)="toggleMobileMenu(); handleNav('sobre-nosotros', $event)"
        class="w-full h-24 flex items-center justify-center px-8 text-xl font-light border-t border-white/20 hover:bg-white/5 transition"
      >
        Sobre nosotros
      </a>
      
      <!-- Contact Button -->
      <button
        (click)="toggleMobileMenu(); scrollToContact()"
        class="w-full h-24 bg-white text-black flex items-center justify-center px-8 gap-3 text-lg font-medium uppercase tracking-wide border-t border-white/20"
      >
        CONTÁCTANOS
        <img src="assets/svgs/whatsapp_black.svg" alt="WhatsApp" class="h-6 w-6" />
      </button>
      
      <!-- Budget Button (Disabled/Active state since we are on budget page) -->
      <button
        class="w-full h-24 bg-black text-white border-t border-white/20 flex items-center justify-center px-8 gap-3 text-lg font-medium uppercase tracking-wide opacity-50 cursor-default"
      >
        PRESUPUESTA
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 12h14M12 5l7 7-7 7"
          />
        </svg>
      </button>
    </div>
  </div>

  <main class="pt-28 pb-16 px-4 sm:px-6 lg:px-8">
    <section *ngIf="!showSuccess()" class="max-w-2xl mx-auto">
      <h1
        class="text-5xl sm:text-6xl font-canela-deck font-light mb-16 text-center"
      >
        Presupuesta tu proyecto
      </h1>

      <form class="space-y-10" (submit)="handleSubmit($event)" novalidate>
        <!-- Question 1: Project Type -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Qué deseas diseñar o construir?*
          </h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[0].options"
              (click)="handleOption(questions[0], option)"
              [ngClass]="
                optionIsSelected(questions[0], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm">Otro:</span>
            <input
              type="text"
              class="flex-1 border-b border-black bg-transparent py-1 text-sm focus:outline-none"
              placeholder=""
              (input)="onInputChange('additionalInfo', 'projectTypeOther', $event); clearSelection('projectType')"
            />
          </div>
        </div>

        <!-- Question 2: Services -->
        <div class="space-y-4">
          <h3 class="text-base font-light">¿Qué servicios necesitas?*</h3>
          <div class="grid grid-cols-2 gap-3">
            <button
              type="button"
              *ngFor="let option of questions[1].options"
              (click)="handleOption(questions[1], option)"
              [ngClass]="
                optionIsSelected(questions[1], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-4 py-2.5 border border-black rounded text-sm transition text-left"
            >
              {{ option.label }}
            </button>
          </div>
          <p class="text-xs text-red-600">*Selecciona al menos 1 servicio</p>
        </div>

        <!-- Question 3: Surface Area -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Cuál es el área aproximada del proyecto?*
          </h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[2].options"
              (click)="handleOption(questions[2], option)"
              [ngClass]="
                optionIsSelected(questions[2], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Question 4: Budget -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Tienes un presupuesto estimado?*
          </h3>
          <div class="space-y-2">
            <p class="text-sm">Si, monto aproximado (bs.)</p>
            <input
              type="text"
              class="w-full max-w-xs border-b border-black bg-transparent py-1 text-sm focus:outline-none"
              placeholder=""
              (input)="onInputChange('additionalInfo', 'budget', $event)"
            />
          </div>
          <div class="flex items-center gap-3">
            <button
              type="button"
              *ngFor="let option of questions[3].options"
              (click)="handleOption(questions[3], option)"
              [ngClass]="
                optionIsSelected(questions[3], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Question 5: Timeline -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            ¿Tienes una fecha límite o plazo ideal?*
          </h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[4].options"
              (click)="handleOption(questions[4], option)"
              [ngClass]="
                optionIsSelected(questions[4], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Question 6: Additional Comments -->
        <div class="space-y-4">
          <h3 class="text-base font-light">
            Cuéntanos brevemente tu idea o necesidad*
          </h3>
          <textarea
            class="w-full border-b border-black bg-transparent py-2 text-sm focus:outline-none resize-none"
            rows="1"
            placeholder=""
            (input)="onInputChange('additionalInfo', 'comments', $event)"
          ></textarea>
        </div>

        <!-- Contact Information -->
        <div class="space-y-6 pt-6">
          <h3 class="text-base font-light">Tus datos de contacto*</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm mb-1">Nombre completo</label>
              <input
                type="text"
                required
                class="w-full border-b border-black bg-transparent py-1 text-sm focus:outline-none"
                placeholder=""
                (input)="onInputChange('contactInfo', 'fullName', $event)"
              />
            </div>
            <div>
              <label class="block text-sm mb-1">Email</label>
              <input
                type="email"
                required
                class="w-full border-b border-black bg-transparent py-1 text-sm focus:outline-none"
                placeholder=""
                (input)="onInputChange('contactInfo', 'email', $event)"
              />
            </div>
            <div>
              <label class="block text-sm mb-1">Teléfono</label>
              <input
                type="tel"
                required
                class="w-full border-b border-black bg-transparent py-1 text-sm focus:outline-none"
                placeholder=""
                (input)="onInputChange('contactInfo', 'phone', $event)"
              />
            </div>
          </div>
        </div>

        <!-- How did you find us -->
        <div class="space-y-4">
          <h3 class="text-base font-light">¿Cómo nos conociste?*</h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[6].options"
              (click)="handleOption(questions[6], option)"
              [ngClass]="
                optionIsSelected(questions[6], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm">Otro:</span>
            <input
              type="text"
              class="flex-1 border-b border-black bg-transparent py-1 text-sm focus:outline-none"
              placeholder=""
              (input)="onInputChange('additionalInfo', 'discoveryOther', $event); clearSelection('discoveryMethod')"
            />
          </div>
        </div>

        <!-- Contact Preference -->
        <div class="space-y-4">
          <h3 class="text-base font-light">¿Cómo prefieres que te contactemos?*</h3>
          <div class="flex flex-wrap gap-3">
            <button
              type="button"
              *ngFor="let option of questions[7].options"
              (click)="handleOption(questions[7], option)"
              [ngClass]="
                optionIsSelected(questions[7], option)
                  ? 'bg-black text-white'
                  : 'bg-white text-black'
              "
              class="px-6 py-2.5 border border-black rounded text-sm transition"
            >
              {{ option.label }}
            </button>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="pt-8 flex justify-center">
          <button
            type="submit"
            class="px-16 py-4 bg-black text-white text-sm uppercase tracking-widest hover:opacity-90 transition"
          >
            Enviar solicitud de presupuesto
          </button>
        </div>
      </form>
    </section>

    <!-- Success Section (Inline) -->
    <section *ngIf="showSuccess()" class="max-w-3xl mx-auto min-h-[60vh] flex flex-col items-center justify-center text-center animate-fade-in">
      <!-- Checkmark Icon -->
      <div class="mb-8">
        <img
          src="assets/svgs/STROKED.svg"
          alt="Success"
          class="w-20 h-20 mx-auto"
        />
      </div>

      <h2 class="text-5xl sm:text-6xl md:text-7xl font-canela-deck font-light mb-8 text-black">
        Recibimos tu solicitud
      </h2>

      <div class="text-base sm:text-lg font-light text-black/80 max-w-3xl mx-auto leading-relaxed">
        <p class="mb-2">
          Gracias por tu interés, pronto nos pondremos en contacto con la información solicitada.
        </p>
        <p>
          Si deseas comunicarte con nosotros, también puedes contactarnos por
          <a
            href="https://wa.me/5800000000"
            target="_blank"
            rel="noopener noreferrer"
            class="underline hover:text-black transition"
            >Whatsapp.</a
          >
        </p>
      </div>
    </section>
  </main>

  <section id="budget-contact" class="bg-black">
    <contactanos-section
      logoSrc="/assets/svgs/SPGA.svg"
      videoSrc="/assets/videos/Design your post.mp4"
      fallbackImageSrc="/assets/pictures/first-image.png"
      whatsappNumber="+58000-00000"
      email="spgagroup@gmail.com"
      designCredit="Maya Bottino"
      devCredit="Vicente Perez"
    ></contactanos-section>
  </section>
  

</div>
